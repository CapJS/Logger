{"version":3,"sources":["../src/logger.js"],"names":[],"mappings":"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","file":"logger.js","sourcesContent":["// var _ = require(\"lodash\");\nimport _ from \"lodash\";\n\n/*\n* REF: https://en.wikipedia.org/wiki/Syslog\n*/\n\nclass logger {\n\tconstructor ({\n\t\tprefix = null,\n\t\tsufix = null,\n\t\tlogger:_logger = console.log,\n\t\tpriority = process.env.DEBUG,\n\t\tdefaultLevelLog = -1, // Default Level to logger.log()\n\t} = {}) {\n\t\tthis.defaultLevelLog = defaultLevelLog;\n\t\tthis.prefix = prefix;\n\t\tthis.sufix = sufix;\n\t\tthis._logger = _logger;\n\n\t\tlet _priority = priority;\n\n\t\tswitch ((typeof(_priority) == \"string\") ? _priority.toLowerCase(): _priority) {\n\t\t\tcase -2:\n\t\t\tcase \"-2\":\n\t\t\tcase \"hidden\":        this.priority = -2; break;\n\t\t\tcase -1:\n\t\t\tcase \"-1\":\n\t\t\tcase \"none\":          this.priority = -1; break;\n\t\t\tcase 0:\n\t\t\tcase \"0\":\n\t\t\tcase \"emer\":\n\t\t\tcase \"emergency\":     this.priority = 0; break;\n\t\t\tcase \"1\":\n\t\t\tcase 1:\n\t\t\tcase \"alert\":         this.priority = 1; break;\n\t\t\tcase 2:\n\t\t\tcase \"2\":\n\t\t\tcase \"crit\":\n\t\t\tcase \"critical\":      this.priority = 2; break;\n\t\t\tcase 3:\n\t\t\tcase \"3\":\n\t\t\tcase \"err\":\n\t\t\tcase \"error\":         this.priority = 3; break;\n\t\t\tcase 4:\n\t\t\tcase \"4\":\n\t\t\tcase \"warn\":\n\t\t\tcase \"warning\":       this.priority = 4; break;\n\t\t\tcase 5:\n\t\t\tcase \"5\":\n\t\t\tcase \"notice\":        this.priority = 5; break;\n\t\t\tcase 6:\n\t\t\tcase \"6\":\n\t\t\tcase \"info\":\n\t\t\tcase \"informational\": this.priority = 6; break;\n\t\t\t// debug:\n\t\t\tdefault:              this.priority = 7; break;\n\t\t}\n\t}\n\n\tgetPrefix() {\n\t\tif (this.prefix == null) {\n\t\t\tlet date = new Date();\n\t\t\treturn `[${date.getFullYear()}/${date.getMonth()+1}/${date.getDate()} ${date.getHours()}:${date.getMinutes()}:${date.getSeconds()}]`;\n\t\t} else {\n\t\t\tif (typeof(this.prefix) == \"function\") {\n\t\t\t\treturn this.prefix();\n\t\t\t} else {\n\t\t\t\treturn this.prefix;\n\t\t\t}\n\t\t}\n\t}\n\n\tgetSufix() {\n\t\tif (this.sufix == null) {\n\t\t\treturn '';\n\t\t} else {\n\t\t\tif (typeof(this.sufix) == \"function\") {\n\t\t\t\treturn this.sufix();\n\t\t\t} else {\n\t\t\t\treturn this.sufix;\n\t\t\t}\n\t\t}\n\t}\n\n\tstatic getLevelName (level) {\n\t\tlet ret = \"\";\n\t\tswitch (level) {\n\t\t\tcase 0:  ret = \"emergency\"; break;\n\t\t\tcase 1:  ret = \"alert\"; break;\n\t\t\tcase 2:  ret = \"critical\"; break;\n\t\t\tcase 3:  ret = \"error\"; break;\n\t\t\tcase 4:  ret = \"warning\"; break;\n\t\t\tcase 5:  ret = \"notice\"; break;\n\t\t\tcase 6:  ret = \"informational\"; break;\n\t\t\tdefault: ret = \"debug\"; break;\n\t\t}\n\t\treturn ret.toUpperCase();\n\t}\n\n\tlogger (level, ...args) {\n\t\tif (!_.isNumber(level)) {\n\t\t\tthrow new Error(\"Logger is not defined level logger.logger(level, ...args);\");\n\t\t}\n\t\tif (this.priority < level) return false;\n\t\treturn this._logger(this.getPrefix(), `${logger.getLevelName(level)}:`, ...args, this.getSufix());\n\t}\n\n\t// this.defaultLevelLog Default -1.\n\tlog (...args) {\n\t\treturn this.logger(this.defaultLevelLog, ...args);\n\t}\n\t// 0\n\temergency (...args) {\n\t\treturn this.logger(0, ...args);\n\t}\n\temerg (...args) {\n\t\treturn this.emergency(...args);\n\t}\n\t// 1\n\talert (...args) {\n\t\treturn this.logger(1, ...args);\n\t}\n\t// 2\n\tcritical (...args) {\n\t\treturn this.logger(2, ...args);\n\t}\n\tcrit (...args) {\n\t\treturn this.critical(...args);\n\t}\n\t// 3\n\terror (...args) {\n\t\treturn this.logger(3, ...args);\n\t}\n\terr (...args) {\n\t\treturn this.error(...args);\n\t}\n\t// 4\n\twarning (...args) {\n\t\treturn this.logger(4, ...args);\n\t}\n\twarn (...args) {\n\t\treturn this.warning(...args);\n\t}\n\t// 5\n\tnotice (...args) {\n\t\treturn this.logger(5, ...args);\n\t}\n\t// 6\n\tinformational (...args) {\n\t\treturn this.logger(6, ...args);\n\t}\n\tinfo (...args) {\n\t\treturn this.informational(...args);\n\t}\n\t// 7\n\tdebug (...args) {\n\t\treturn this.logger(7, ...args);\n\t}\n\tdeb (...args) {\n\t\treturn this.debug(...args);\n\t}\n\n}\n\n\n// Global Logger\nlet globalLogger = new logger();\n\nfunction logGlobalLogger (...args) {\n\tif (this instanceof logGlobalLogger) {\n\t\treturn new logger(...args);\n\t}\n\treturn globalLogger.log(...args);\n};\n\nmodule.exports = logGlobalLogger;\n\nmodule.exports.log = function (...args) {return globalLogger.log(...args);};\nmodule.exports.emergency = function (...args) {return globalLogger.emergency(...args);};\nmodule.exports.emerg = function (...args) {return globalLogger.emerg(...args);};\nmodule.exports.alert = function (...args) {return globalLogger.alert(...args);};\nmodule.exports.critical = function (...args) {return globalLogger.critical(...args);};\nmodule.exports.crit = function (...args) {return globalLogger.crit(...args);};\nmodule.exports.error = function (...args) {return globalLogger.error(...args);};\nmodule.exports.err = function (...args) {return globalLogger.err(...args);};\nmodule.exports.warning = function (...args) {return globalLogger.warning(...args);};\nmodule.exports.warn = function (...args) {return globalLogger.warn(...args);};\nmodule.exports.notice = function (...args) {return globalLogger.notice(...args);};\nmodule.exports.informational = function (...args) {return globalLogger.informational(...args);};\nmodule.exports.info = function (...args) {return globalLogger.info(...args);};\nmodule.exports.debug = function (...args) {return globalLogger.debug(...args);};\nmodule.exports.deb = function (...args) {return globalLogger.deb(...args);};\n\nmodule.exports.logger = logger;\n\n"]}